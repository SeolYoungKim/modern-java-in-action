# 모듈 시스템을 설게한 이유 

## 자바가 제공하는 코드 그룹화 
- 클래스
- 패키지
- JAR
> 패키지와 JAR 수준에서는 캡슐화를 거의 지원하지 않음 


## 클래스 경로
- 클래스를 모두 컴파일한 후, 한 개의 평범한 JAR 파일에 넣고, 클래스 경로에 이 JAR 파일을 추가해 사용할 수 있다.
- 위와 같이 설정하면, JVM이 동적으로 클래스 경로에 정의된 클래스를 필요할 때 읽는다.

### 클래스 경로와 JAR 조합에 존재하는 약점 
- 클래스 경로에는 같은 클래스를 구분하는 버전 개념이 없다 
  - 두 가지 버전의 같은 라이브러리가 존재한다면? -> 어떤 일이 발생할지 예측 불가
  - 다양한 컴포넌트가 같은 라이브러리의 다른 버전을 쓸 수도 있음
- 클래스 경로는 명시적인 의존성을 지원하지 않음
  - JAR안의 모든 클래스는 classes라는 한 주머니로 합쳐짐
  - 즉, 한 JAR가 다른 JAR에 포함된 클래스 집합을 사용하라고 명시적으로 의존성을 정의하는 기능을 제공하지 않음 

> 위의 문제를 Maven, Gradle과 같은 빌드 툴이 해결하는 데 도움을 준다.


## 거대한 JDK
- 자바 개발 키트(JDK = JRE + 도구) : 자바 프로그램을 만들고 실행하는 데 도움을 주는 도구의 집합
  - javac
  - java
  - JDK 라이브러리, 컬렉션, 스트림 등 

- 자바의 낮은 캡슐화 지원 -> 내부 API가 공개 됨 -> Spring, Netty, Mockito 등 여러 라이브러리에서 `sun.misc.Unsafe`라는 클래스를 사용하게 됨
  - 해당 클래스는 JDK 내부에서만 사용하도록 만든 클래스다. 결과적으로 호환성을 깨지 않고는 관련 API를 바꾸기 아주 어려운 상황이 됨 
- 이런 문제들 때문에 JDK 자체도 모듈화 할 수 있는 자바 모듈 시스템 설계의 필요성이 제기되었음.
  - JDK에서 필요한 부분만 골라 사용하고, 클래스 경로를 쉽게 유추할 수 있으며, 플랫폼을 진화시킬 수 있는 강력한 캡슐화를 제공할 구조가 필요 -> 모듈 